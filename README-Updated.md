# نظام مطعم سوريا - منصة متعددة المطاعم

## نظرة عامة

تم تحديث نظام مطعم سوريا من مطعم واحد إلى منصة متعددة المطاعم متكاملة تدعم:

- **العملاء**: استعراض المطاعم، طلب الطعام، حجز الطاولات، التتبع المباشر
- **أصحاب المطاعم**: إدارة القوائم، معالجة الطلبات، تحديث الإعدادات
- **السائقين**: استلام وتوصيل الطلبات، تحديث الحالة، إدارة الإيرادات
- **المديرين**: إدارة النظام الشاملة، المراقبة، التحليلات

## المميزات الرئيسية

### 1. نظام متعدد المطاعم
- عرض جميع المطاعم المتاحة مع البحث والتصفية
- اختيار المطعم وعرض قائمته الخاصة
- دعم مطاعم متعددة في نفس المنصة

### 2. نظام طلبات متقدم
- سلة تسوق ذكية تدعم مطعم واحد في كل طلب
- حساب تلقائي للإجماليات والرسوم
- دفع متعدد الطرق (عند الاستلام، محفظة، بطاقة)

### 3. لوحات تحكم متخصصة
- **لوحة تحكم العميل**: إدارة الطلبات، الحجوزات، التقييمات، الولاء
- **لوحة تحكم المطعم**: إدارة القوائم، معالجة الطلبات، الإحصائيات
- **لوحة تحكم السائق**: استلام الطلبات، تحديث الحالة، التتبع
- **لوحة تحكم المدير**: إدارة النظام، المراقبة، التقارير

### 4. نظام مصادقة متقدم
- أدوار متعددة (عميل، مطعم، سائق، مدير)
- توجيه تلقائي حسب دور المستخدم
- تحقق من الحسابات (خاصة للسائقين)

### 5. واجهة مستخدم محسنة
- تصميم متجاوب يعمل على جميع الأجهزة
- تحميل بطيء للمكونات الثقيلة
- إشعارات فورية وتحديثات لحظية

## الهيكل التقني

### الواجهة الأمامية (Frontend)
- **Framework**: Next.js 15 مع App Router
- **Language**: TypeScript
- **Styling**: Tailwind CSS 4
- **Components**: shadcn/ui
- **State Management**: Zustand, React Context
- **Icons**: Lucide React

### الخلفية (Backend)
- **Database**: PostgreSQL مع Prisma ORM
- **Authentication**: Supabase Auth
- **API**: Next.js API Routes
- **Real-time**: WebSocket/Socket.io

### النماذج الرئيسية (Models)
```
User (Base Model)
├── Customer
├── Restaurant
├── Driver
└── Admin

Restaurant
├── Categories
├── Menu Items
└── Orders

Order
├── Order Items
├── Payment
├── Address
└── Rating

Supporting Models
├── Wallet
├── Wallet Transactions
├── Notifications
├── Promotions
├── Reservations
├── Reviews
└── Loyalty Rewards
```

## مسارات التطبيق

### الصفحات الرئيسية
- `/` - الصفحة الرئيسية (عرض المطاعم والقوائم)
- `/auth/signin` - تسجيل الدخول
- `/auth/signup` - إنشاء حساب
- `/dashboard` - لوحة تحكم العميل
- `/restaurant-dashboard` - لوحة تحكم المطعم
- `/driver-dashboard` - لوحة تحكم السائق
- `/admin-dashboard` - لوحة تحكم المدير

### واجهات API
- `/api/restaurants` - إدارة المطاعم
- `/api/menu` - إدارة القوائم
- `/api/orders` - إدارة الطلبات
- `/api/reservations` - إدارة الحجوزات
- `/api/reviews` - إدارة التقييمات
- `/api/loyalty` - برنامج الولاء
- `/api/notifications` - الإشعارات
- `/api/payment` - معالجة الدفع

## كيفية الاستخدام

### للعملاء
1. **التسجيل**: إنشاء حساب كعميل
2. **استعراض المطاعم**: تصفح جميع المطاعم المتاحة
3. **اختيار المطعم**: اختيار المطعم وعرض قائمته
4. **إضافة للسلة**: إضافة الأصناف المطلوبة للسلة
5. **إتمام الطلب**: إدخال معلومات التوصيل والدفع
6. **التتبع**: تتبع حالة الطلب لحظياً

### لأصحاب المطاعم
1. **التسجيل**: إنشاء حساب كمطعم
2. **إعداد المطعم**: إضافة معلومات المطعم والقائمة
3. **معالجة الطلبات**: تأكيد الطلبات وتحديث الحالة
4. **إدارة القائمة**: تحديث الأسعار والإتاحة
5. **مراقبة الأداء**: عرض الإحصائيات والتقارير

### للسائقين
1. **التسجيل**: إنشاء حساب كسائق
2. **التحقق**: انتظار تحقق المدير من الحساب
3. **الاتصال**: تفعيل وضع الاتصال لاستلام الطلبات
4. **استلام الطلبات**: قبول الطلبات المتاحة
5. **التوصيل**: تحديث الحالة وتوصيل الطلبات

### للمديرين
1. **تسجيل الدخول**: الدخول بحساب المدير
2. **مراقبة النظام**: عرض إحصائيات النظام الشاملة
3. **إدارة المستخدمين**: الموافقة على الحسابات الجديدة
4. **مراقبة الأداء**: مراقبة الطلبات والإيرادات
5. **إدارة المشاكل**: معالجة المشاكل والشكاوى

## المتطلبات

### المتطلبات الأساسية
- Node.js 18+
- PostgreSQL 14+
- Supabase Account

### متطلبات التشغيل
```bash
# تثبيت الحزم
npm install

# تشغيل قاعدة البيانات
npm run db:push

# تشغيل التطوير
npm run dev

# بناء الإنتاج
npm run build
```

## الأمان

### حماية البيانات
- تشفير كلمات المرور باستخدام bcrypt
- JWT tokens للمصادقة
- HTTPS في الإنتاج
- حماية من هجمات XSS و CSRF

### صلاحيات الوصول
- مصادقة قائمة على الأدوار
- تحقق من الصلاحيات في كل API
- عزل البيانات حسب المستخدم

## التحسينات المستقبلية

### الميزات المخطط لها
1. **نظام الدفع المتكامل**: دعم بطاقات الائتمان والمحافظ الإلكترونية
2. **نظام التقييم المتقدم**: تقييم متعدد الجوانب
3. **نظام الإشعارات المتقدم**: إشعارات دفع وبريدية
4. **نظام التحليلات**: تقارير متقدمة وتحليلات
5. **تطبيقات الجوال**: تطبيقات iOS و Android أصلية

### التحسينات التقنية
1. **تحسين الأداء**: تحسين سرعة التحميل والاستجابة
2. **التخزين المؤقت**: استخدام Redis للتخزين المؤقت
3. **معالجة المتوازية**: معالجة متعددة الخيوط
4. **النسخ الاحتياطي**: نظام نسخ احتياطي تلقائي

## المساهمة

نرحب بمساهمات المجتمع في تحسين هذا النظام. يرجى اتباع الخطوات التالية:

1. Fork المشروع
2. إنشاء فرع للميزة (`git checkout -b feature/AmazingFeature`)
3. Commit التغييرات (`git commit -m 'Add some AmazingFeature'`)
4. Push إلى الفرع (`git push origin feature/AmazingFeature`)
5. فتح Pull Request

## الرخصة

هذا المشروع مرخص تحت رخصة MIT - انظر ملف LICENSE للتفاصيل.

## الدعم

إذا واجهت أي مشاكل أو لديك أسئلة، يرجى التواصل معنا عبر:

- البريد الإلكتروني: support@foodsyria.com
- الموقع: https://foodsyria.com
- التوثيق: https://docs.foodsyria.com

---

**مطور بواسطة فريق مطعم سوريا**  
**آخر تحديث: 2024**